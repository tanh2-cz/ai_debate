{
  "version": "2.1",
  "name": "multi-agent-debate-platform-rag",
  "description": "多角色AI辩论平台 RAG增强版 - 支持3-6个专业角色基于真实学术研究的智能辩论",
  
  "graphs": {
    "multi_agent_debate": "./graph.py:graph",
    "enhanced_debate": "./graph.py:create_multi_agent_graph",
    "default_debate": "./graph.py:create_default_graph"
  },
  
  "environment": {
    "file": ".env",
    "required_variables": [
      "DEEPSEEK_API_KEY"
    ],
    "optional_variables": [
      "DEEPSEEK_API_BASE",
      "DEFAULT_MODEL",
      "DEFAULT_TEMPERATURE",
      "DEFAULT_MAX_TOKENS",
      "DEFAULT_AGENTS",
      "DEFAULT_MAX_ROUNDS",
      "RAG_CACHE_DIR",
      "RAG_MAX_RESULTS",
      "RAG_CHUNK_SIZE",
      "RAG_SIMILARITY_THRESHOLD",
      "EMBEDDING_MODEL_NAME",
      "ARXIV_MAX_RETRIES",
      "CROSSREF_MAX_RETRIES",
      "RAG_REQUEST_TIMEOUT"
    ]
  },
  
  "runtime": {
    "python_version": "3.12",
    "timeout": 900,
    "memory_limit": "2GB",
    "cpu_limit": "4",
    "max_workers": 6,
    "concurrent_requests": false
  },
  
  "dependencies": {
    "install_command": "pip install -r requirements.txt",
    "requirements_file": "./requirements.txt",
    "core_packages": [
      "streamlit>=1.28.0",
      "langchain>=0.1.0", 
      "langchain-deepseek>=0.1.0",
      "langgraph>=0.0.40",
      "python-dotenv>=1.0.0"
    ],
    "rag_packages": [
      "sentence-transformers>=2.2.0",
      "faiss-cpu>=1.7.4",
      "requests>=2.31.0",
      "aiohttp>=3.8.0",
      "beautifulsoup4>=4.12.0",
      "lxml>=4.9.0",
      "numpy>=1.24.0",
      "pandas>=2.0.0"
    ],
    "optional_packages": [
      "arxiv>=1.4.0",
      "crossref-commons>=0.0.7",
      "pymongo>=4.0.0",
      "redis>=4.5.0",
      "elasticsearch>=8.0.0"
    ]
  },
  
  "agents": {
    "available_roles": [
      {
        "key": "environmentalist",
        "name": "环保主义者",
        "icon": "🌱",
        "color": "#4CAF50",
        "category": "环境科学",
        "rag_keywords": "environment climate sustainability ecology conservation",
        "preferred_sources": ["arxiv", "crossref"],
        "expertise_domains": ["climate change", "sustainability", "environmental policy", "renewable energy"]
      },
      {
        "key": "economist", 
        "name": "经济学家",
        "icon": "📊",
        "color": "#FF9800",
        "category": "经济学",
        "rag_keywords": "economic cost benefit market analysis finance",
        "preferred_sources": ["crossref", "arxiv"],
        "expertise_domains": ["market economics", "cost-benefit analysis", "economic policy", "financial modeling"]
      },
      {
        "key": "policy_maker",
        "name": "政策制定者", 
        "icon": "🏛️",
        "color": "#3F51B5",
        "category": "公共政策",
        "rag_keywords": "policy governance regulation implementation law",
        "preferred_sources": ["crossref", "arxiv"],
        "expertise_domains": ["public policy", "governance", "regulation", "policy implementation"]
      },
      {
        "key": "tech_expert",
        "name": "技术专家",
        "icon": "💻",
        "color": "#9C27B0", 
        "category": "技术科学",
        "rag_keywords": "technology innovation technical feasibility AI",
        "preferred_sources": ["arxiv", "crossref"],
        "expertise_domains": ["artificial intelligence", "machine learning", "technology innovation", "technical feasibility"]
      },
      {
        "key": "sociologist",
        "name": "社会学家",
        "icon": "👥",
        "color": "#E91E63",
        "category": "社会科学",
        "rag_keywords": "social impact society community effects inequality",
        "preferred_sources": ["crossref", "arxiv"],
        "expertise_domains": ["social impact", "community studies", "inequality", "social change"]
      },
      {
        "key": "ethicist",
        "name": "伦理学家",
        "icon": "⚖️",
        "color": "#607D8B",
        "category": "伦理哲学",
        "rag_keywords": "ethics moral responsibility values philosophy",
        "preferred_sources": ["crossref", "arxiv"],
        "expertise_domains": ["applied ethics", "moral philosophy", "technology ethics", "value systems"]
      }
    ],
    "min_agents": 3,
    "max_agents": 6,
    "default_combination": ["environmentalist", "economist", "policy_maker"],
    "rag_enabled_roles": "all"
  },
  
  "rag_config": {
    "enabled": true,
    "cache_enabled": true,
    "cache_duration_hours": 24,
    "cache_directory": "./rag_cache",
    
    "data_sources": {
      "arxiv": {
        "enabled": true,
        "base_url": "http://export.arxiv.org/api/query",
        "max_results_per_query": 5,
        "timeout": 30,
        "retry_attempts": 3,
        "rate_limit_delay": 1.0,
        "supported_categories": ["cs.AI", "cs.CL", "cs.LG", "econ.GN", "physics.soc-ph", "q-bio"],
        "quality_filters": {
          "min_abstract_length": 100,
          "exclude_withdrawn": true,
          "prefer_recent": true
        }
      },
      "crossref": {
        "enabled": true,
        "base_url": "https://api.crossref.org/works",
        "max_results_per_query": 5,
        "timeout": 30,
        "retry_attempts": 3,
        "rate_limit_delay": 1.0,
        "filters": ["type:journal-article"],
        "quality_filters": {
          "min_citation_count": 0,
          "prefer_peer_reviewed": true,
          "exclude_predatory": true
        },
        "user_agent": "Multi-Agent-Debate-Platform/2.1 (mailto:admin@example.com)"
      }
    },
    
    "retrieval_config": {
      "max_sources_per_agent": 3,
      "similarity_threshold": 0.7,
      "relevance_scoring": {
        "enabled": true,
        "min_score": 1.0,
        "max_score": 10.0,
        "use_llm_scoring": true
      },
      "content_processing": {
        "chunk_size": 1000,
        "chunk_overlap": 200,
        "max_abstract_length": 1500,
        "remove_html": true,
        "normalize_text": true
      }
    },
    
    "embedding_config": {
      "model_name": "sentence-transformers/all-MiniLM-L6-v2",
      "dimension": 384,
      "device": "cpu",
      "batch_size": 32,
      "cache_embeddings": true
    },
    
    "llm_enhancement": {
      "enabled": true,
      "analysis_model": "deepseek-chat",
      "temperature": 0.3,
      "max_tokens": 500,
      "batch_analysis": false,
      "extract_key_findings": true,
      "assess_relevance": true,
      "generate_citations": true
    },
    
    "query_translation": {
      "enabled": true,
      "source_language": "chinese",
      "target_language": "english",
      "fallback_translation": true,
      "keyword_mapping": {
        "人工智能": "artificial intelligence",
        "机器学习": "machine learning",
        "深度学习": "deep learning",
        "就业": "employment",
        "工作": "job work",
        "核能": "nuclear power",
        "气候变化": "climate change",
        "环境保护": "environmental protection",
        "经济": "economics economy",
        "政策": "policy",
        "技术": "technology",
        "社会": "society social",
        "伦理": "ethics",
        "道德": "moral",
        "可持续发展": "sustainable development",
        "能源": "energy",
        "教育": "education",
        "医疗": "healthcare medical",
        "自动化": "automation",
        "机器人": "robotics",
        "生物技术": "biotechnology",
        "基因编辑": "gene editing CRISPR",
        "区块链": "blockchain",
        "量子计算": "quantum computing",
        "自动驾驶": "autonomous driving",
        "虚拟现实": "virtual reality",
        "增强现实": "augmented reality"
      }
    }
  },
  
  "debate_config": {
    "min_rounds": 2,
    "max_rounds": 8,
    "default_rounds": 3,
    "enable_rag_by_default": true,
    "rag_update_frequency": "per_round",
    "topics": {
      "categories": [
        "科技与社会",
        "环境与发展", 
        "经济与政策",
        "伦理与哲学",
        "教育与文化",
        "医疗与健康",
        "能源与气候"
      ],
      "preset_topics": [
        "人工智能是否会威胁人类就业？",
        "核能发电是解决气候变化的最佳方案吗？",
        "全民基本收入制度是否可行？",
        "基因编辑技术的伦理边界在哪里？",
        "远程工作对社会经济的长期影响",
        "数字货币能否取代传统货币？",
        "太空探索的优先级vs地球环境保护",
        "人工肉类能否完全替代传统畜牧业？",
        "社交媒体监管的必要性与界限",
        "自动驾驶汽车的安全性与责任问题",
        "量子计算对网络安全的影响",
        "碳捕获技术在气候变化中的作用",
        "人工智能在医疗诊断中的应用前景"
      ],
      "rag_optimized_topics": [
        "CRISPR基因编辑技术的最新进展与伦理争议",
        "碳中和目标下的可再生能源政策评估",
        "GPT等大型语言模型对教育行业的变革性影响",
        "mRNA疫苗技术在传染病防控中的未来应用",
        "区块链技术在供应链管理中的实际效果分析"
      ]
    }
  },
  
  "model_config": {
    "provider": "deepseek",
    "model_name": "deepseek-chat",
    "default_parameters": {
      "temperature": 0.8,
      "max_tokens": 2000,
      "timeout": 60,
      "max_retries": 3
    },
    "rag_parameters": {
      "temperature": 0.3,
      "max_tokens": 500,
      "timeout": 45,
      "max_retries": 2
    },
    "optimization": {
      "enable_caching": true,
      "batch_processing": false,
      "parallel_requests": false,
      "context_window_management": true
    }
  },
  
  "ui_config": {
    "framework": "streamlit",
    "theme": "auto",
    "layout": "wide",
    "sidebar_state": "expanded",
    "features": {
      "real_time_progress": true,
      "role_selection": true,
      "topic_suggestions": true,
      "rag_controls": true,
      "rag_preview": true,
      "reference_display": true,
      "debate_statistics": true,
      "export_results": false,
      "debug_mode": true
    },
    "rag_ui": {
      "show_rag_status": true,
      "display_references": true,
      "show_retrieval_progress": true,
      "enable_source_selection": true,
      "show_relevance_scores": true,
      "preview_search_results": true
    }
  },
  
  "performance": {
    "concurrent_rag_requests": 2,
    "max_cache_size_mb": 500,
    "request_batching": false,
    "lazy_loading": true,
    "preload_common_topics": true,
    "optimization_level": "balanced"
  },
  
  "monitoring": {
    "enable_logging": true,
    "log_level": "INFO", 
    "log_format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "log_file": "./logs/debate_platform.log",
    "metrics": {
      "track_api_calls": true,
      "track_response_time": true,
      "track_rag_performance": true,
      "track_cache_hits": true,
      "track_user_interactions": true,
      "track_retrieval_success": true
    },
    "alerts": {
      "rag_failure_threshold": 3,
      "api_timeout_threshold": 60,
      "cache_size_threshold": 400
    }
  },
  
  "security": {
    "validate_inputs": true,
    "sanitize_outputs": true,
    "rate_limiting": {
      "enabled": true,
      "requests_per_minute": 60,
      "burst_limit": 10
    },
    "api_key_encryption": false,
    "content_filtering": {
      "enabled": true,
      "block_harmful_content": true,
      "moderate_academic_content": false
    }
  },
  
  "deployment": {
    "platform": "local",
    "host": "0.0.0.0",
    "port": 8501,
    "auto_reload": true,
    "startup_commands": [
      "streamlit run debates.py --server.port=8501 --server.address=0.0.0.0"
    ],
    "health_check": {
      "endpoint": "/health",
      "timeout": 30,
      "check_rag_status": true
    },
    "docker": {
      "base_image": "python:3.12-slim",
      "expose_port": 8501,
      "volume_mounts": ["./rag_cache:/app/rag_cache", "./logs:/app/logs"],
      "environment_variables": ["DEEPSEEK_API_KEY"]
    }
  },
  
  "backup_and_recovery": {
    "cache_backup": {
      "enabled": true,
      "frequency": "daily",
      "retention_days": 7,
      "backup_directory": "./backups/cache"
    },
    "configuration_backup": {
      "enabled": true,
      "frequency": "on_change",
      "retention_count": 10
    }
  },
  
  "experimental": {
    "features": [
      "dynamic_role_creation",
      "debate_summarization", 
      "topic_recommendation",
      "multi_language_support",
      "real_time_fact_checking",
      "automated_citation_formatting",
      "semantic_search_enhancement",
      "cross_domain_knowledge_integration",
      "predictive_argument_analysis",
      "adaptive_questioning_system"
    ],
    "enabled": false,
    "beta_features": {
      "semantic_clustering": false,
      "argument_graph_visualization": false,
      "bias_detection": false,
      "consensus_building": false
    }
  },
  
  "integration": {
    "external_apis": {
      "semantic_scholar": {
        "enabled": false,
        "api_key_required": true,
        "rate_limit": "100/hour"
      },
      "pubmed": {
        "enabled": false,
        "api_key_required": false,
        "rate_limit": "3/second"
      },
      "google_scholar": {
        "enabled": false,
        "note": "Requires scraping, use with caution"
      }
    },
    "database_connectors": {
      "mongodb": {
        "enabled": false,
        "use_case": "Long-term debate storage"
      },
      "postgresql": {
        "enabled": false,
        "use_case": "Analytics and reporting"
      }
    }
  },
  
  "metadata": {
    "version": "2.1.0",
    "created": "2024-12-19",
    "updated": "2024-12-19",
    "author": "Multi-Agent Debate Platform Team",
    "license": "MIT",
    "repository": "https://github.com/your-org/multi-agent-debate-platform-rag",
    "documentation": "https://your-org.github.io/multi-agent-debate-platform-rag",
    "support": "https://github.com/your-org/multi-agent-debate-platform-rag/issues",
    "changelog": "./CHANGELOG.md",
    "rag_version": "1.0.0",
    "compatibility": {
      "langchain": ">=0.1.0",
      "langgraph": ">=0.0.40",
      "streamlit": ">=1.28.0",
      "python": ">=3.10"
    }
  }
}